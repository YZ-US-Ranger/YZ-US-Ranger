Useful references:
https://cran.r-project.org/web/views/Survival.html


Instead of calling this course “Survival analysis in R”, we should actually have called it “Time-to-event data analysis in R” because we will discuss methods where the event does not have to be death. The reason why we still called it “Survival analysis in R” is because this is the most commonly used term.

We will discuss duration times. Usually, we are interested in a certain event (for example, death) and want to know the time until this event happens. The event of interest can be very diverse, but we are always interested in the time until this event occurs.

```
# Check out the help page for this dataset
help(GBSG2, package = "TH.data")

# Load the data
data(GBSG2, package = "TH.data")

# Look at the summary of the dataset
summary(GBSG2)
```

Why do we need special methods for time-to-event data? Why can’t I just compute a linear model?

1.Duration times are always positive.

So we need to work with distributions that can handle positive outcomes. The linear model, for example, assumes a normal distribution, which is not very appropriate for positive outcomes. A common distribution to model duration times is the Weibull distribution and the corresponding model is called the Weibull model.

2.Different measures are of interest.

Historically in survival analysis, the survivor function or the survival curve has been a measure of interest. 
Usually, in regression, we think about densities and distribution functions.
The reason for the popularity of the survivor function is that it essentially answers the main questions in survival analysis. For example,
What is the probability that a breast cancer patient survives longer than 5 years?
What is the typical waiting time for a cab?
Out of 100 unemployed people, how many do we expect to have a job again after 2 months?

3.Censoring (probably the most important)

the most common type of censoring in survival analysis: right censoring. 

The `cens` variable contains values that indicate whether or not a person in the study has died.
The convention is that the censoring indicator is 1 if the event of interest happened.
`cens` = 1 means the person died during the study period.

```
# Count censored and uncensored data
num_cens <- table(GBSG2$cens)
num_cens

# Create barplot of censored and uncensored data
barplot(num_cens)
```

Using the `Surv()` function (which generates a `Surv` object.) for GBSG2

```
# Create Surv-Object
library("survival")
sobj <- Surv(GBSG2$time, GBSG2$cens)

# Look at 10 first elements
sobj[1:10]

# Look at summary
summary(sobj)

# Look at structure
str(sobj)
```

The `Surv` object allows us to specify that time and cens belong together. Notice that the elements of the object have a `+` symbol if they are censored observations.

## Survival function
Theory: S(t)=1−F(t)=P(T>t)

Graph: []

Interpretation 1: Probability that duration is longer than t.
Interpretation 2:
The median duration is t. 
Examples:
The median survival time is 3.7 years.
Median time until the cab arrives is 3.7 minutes.

Examples:
Probability to survive beyond time point t.
Probability that the cab takes more than t minutes to arrive.

Interpretation 3:
100 ⋅ S^(t) percent of durations are longer than t.
Examples:
37 percent of all patients survive longer than 4 years. 63 percent die within the first 4 years.
Out of 100 cabs, 37 take more than 4 minutes to arrive.
